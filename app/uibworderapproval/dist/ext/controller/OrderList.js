sap.ui.define(["sap/m/MessageToast","sap/m/MessageBox"],function(e,t){"use strict";return{onBulkApproval:async function(e,t){if(!t||t.length===0){sap.m.MessageBox.warning("Please select at least one order.");return}var a=t.map(e=>e.getObject().orderNumber);var s=t[0].getModel();var o=new sap.m.ComboBox({width:"100%",placeholder:"Select Reason Code...",enabled:true,items:{path:"/reasonCodeVH",template:new sap.ui.core.ListItem({key:"{reasonCode}",text:"{reasonCode} - {description}"})}});var r=new sap.m.CheckBox({text:"Approve Load",width:"90%",selected:true});var n=new sap.m.VBox({width:"90%",items:[r,new sap.m.Label({text:"Reason Code",design:"Bold"}),o],class:"sapUiSmallMargin sapUiMediumPadding"});var i=new sap.m.Dialog({title:"Bulk Approval",contentWidth:"400px",type:"Message",content:[n],beginButton:new sap.m.Button({text:"Confirm",type:"Emphasized",press:async function(){var e=r.getSelected();var t=o.getSelectedKey();if(!e&&!t){sap.m.MessageBox.warning("Reason Code is required when rejecting the order.");return}try{function p(e,t){const a=[];for(let s=0;s<e.length;s+=t){a.push(e.slice(s,s+t))}return a}const d=p(a,200);for(const l of d){var n=s.bindContext("/approveOrders(...)");n.setParameter("orders",l);n.setParameter("approveLoad",e);if(t){n.setParameter("reasonCode",t)}await n.execute()}sap.m.MessageToast.show("Orders processed successfully.");s.refresh()}catch(c){console.error("Bulk approval failed:",c);sap.m.MessageBox.error("Bulk approval failed: "+(c.message||"Unknown error"))}finally{i.close()}}}),endButton:new sap.m.Button({text:"Cancel",press:function(){i.close()}}),afterClose:function(){i.destroy()}});i.setModel(s);i.addStyleClass("sapUiContentPadding sapUiSizeCompact");i.open()}}});
//# sourceMappingURL=OrderList.js.map